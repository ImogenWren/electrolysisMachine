* D:\KiCAD 6.0\KiCad6.0 PROJECTS\electrolysisMachine\voltage-controlled-current-sink\voltage-controlled-current-source.asc
XU1 N008 N003 Vsupply 0 N004 level.2 Avol=1Meg GBW=10Meg Slew=10Meg ilimit=25m rail=0 Vos=0 phimargin=45 en=0 enk=0 in=0 ink=0 Rin=500Meg
V1 Vsupply 0 27
V2 N001 0 5
R1 N010 N003 10k
R2 N010 0 2
R3 Vsupply N002 1k
M1 N002 N005 N010 N010 NMOS
R4 N005 N004 10k
R5 N008 0 100
R6 N008 Vcontrol 100k
XU3 NC_01 N007 0 N009 Vinvert NC_02 NC_03 Vsupply LT1054
D1 Vsupply N006 1N4007
D2 N006 Vboost 1N4007
C1 N007 N006 1µ
C2 N009 N007 1µ
C3 0 Vinvert 1µ
C4 0 Vboost 1µ
V3 Vcontrol 0 PULSE(0 5 20m 0 0 20m 40m 20)
.model D D
.lib G:\onedrive\Documents\LTspiceXVII\lib\cmp\standard.dio
.model NMOS NMOS
.model PMOS PMOS
.lib G:\onedrive\Documents\LTspiceXVII\lib\cmp\standard.mos
;dc V2 0 5 0.1
step param R3 list 0R 1R 10R 100R 1K 10k 100k 1000k 10000k
;op
.tran 0 1 0 0.1 startup
.lib LT1054.sub
.lib UniversalOpamps2.sub
.backanno
.end
